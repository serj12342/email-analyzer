# README.md

# ğŸ“§ email-analyzer

Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… Ğ¿Ğ¸ÑĞµĞ¼ Ñ Ñ†ĞµĞ»ÑŒÑ Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ Ğ²Ñ€ĞµĞ´Ğ¾Ğ½Ğ¾ÑĞ½Ñ‹Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº Ğ¸ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹. Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚:
- Ğ Ğ°ÑĞ¿Ğ°ĞºĞ¾Ğ²ĞºÑƒ Ğ°Ñ€Ñ…Ğ¸Ğ²Ğ¾Ğ²
- ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑÑÑ‹Ğ»Ğ¾Ğº Ñ‡ĞµÑ€ĞµĞ· `thug`
- ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¼Ğ°ĞºÑ€Ğ¾ÑĞ¾Ğ² Ğ¸ PDF Ñ‡ĞµÑ€ĞµĞ· `oletools` Ğ¸ `pdf-parser`
- ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºÑƒ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¸ ÑÑÑ‹Ğ»Ğ¾Ğº Ğ² VirusTotal Ğ¸ CAPEv2
- Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Markdown-Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ°
- ĞĞ±Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ° Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Yandex GPT

---

## ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº

### ğŸ”§ Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Docker-Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ°:
```bash
docker build -t email-analyzer .
```

### ğŸ“¥ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ `.env` Ñ„Ğ°Ğ¹Ğ»Ğ°:
```env
VT_API_KEY=your_virustotal_key
CAPE_URL=http://localhost:8000
```

### â–¶ï¸ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:
```bash
docker run --rm --env-file .env -v $(pwd)/samples:/samples email-analyzer \
  --eml /samples/sample.eml
```

> `sample.eml` â€” Ñ„Ğ°Ğ¹Ğ» Ğ¿Ğ¸ÑÑŒĞ¼Ğ° Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°.  
> ĞšĞ»ÑÑ‡Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ.

---

## ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°
```mermaid
flowchart TD
    A[ğŸ“¬ ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¾ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾] --> B[ğŸ” ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ¿Ğ¸ÑÑŒĞ¼Ğ°]
    B --> C[ğŸ”— Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ ÑÑÑ‹Ğ»Ğ¾Ğº]
    B --> D[ğŸ“ Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹]
    C --> E[ğŸš¦ ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑÑÑ‹Ğ»Ğ¾Ğº Ñ‡ĞµÑ€ĞµĞ· Thug]
    D --> F[ğŸ“¦ Ğ Ğ°ÑĞ¿Ğ°ĞºĞ¾Ğ²ĞºĞ° Ğ°Ñ€Ñ…Ğ¸Ğ²Ğ¾Ğ²]
    D --> G[ğŸ“„ ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¼Ğ°ĞºÑ€Ğ¾ÑĞ¾Ğ² Ğ¸ PDF]
    D --> H[ğŸ›¡ï¸ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ² VirusTotal]
    D --> I[ğŸ§ª ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ² CAPEv2]
    E & F & G & H & I --> J[ğŸ“ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Markdown-Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ°]
    J --> K[ğŸ¤– ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ° Ñ‡ĞµÑ€ĞµĞ· Yandex GPT]
    K --> L[ğŸ“ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ°]
```

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```
email-analyzer/
â”œâ”€â”€ analyzers/
â”‚   â”œâ”€â”€ mail.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ attachments.py
â”‚   â”œâ”€â”€ report.py
â”‚   â””â”€â”€ yandex_gpt.py
â”œâ”€â”€ main.py
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ entrypoint.sh
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

## ğŸ§  GPT-Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
Ğ”Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Yandex GPT Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾:
- Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `yandex-cloud` SDK
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ OAuth Ğ¸Ğ»Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ (ÑĞ¼. [Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](https://cloud.yandex.ru/docs/iam/operations/sa/))

---

## ğŸ” Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
- Python 3.11
- `thug` (ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¸Ğ· GitHub)
- `oletools`, `pefile`, `py7zr`, `rarfile`
- `yandex-cloud` SDK
- Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹: `unrar`, `p7zip-full`, `libmagic1`

---

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ
MIT
