# Email Analyzer üïµÔ∏è‚Äç‚ôÇÔ∏èüìß

–ü—Ä–æ—Å—Ç–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π sandbox –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å–µ–º. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- –ø–∞—Ä—Å–∏–Ω–≥ `.eml` —Ñ–∞–π–ª–æ–≤
- –∞–Ω–∞–ª–∏–∑ —Å—Å—ã–ª–æ–∫ —Å –ø–æ–º–æ—â—å—é [Thug](https://github.com/buffer/thug)
- –æ—Ç–ø—Ä–∞–≤–∫—É –≤–ª–æ–∂–µ–Ω–∏–π –≤ [CAPE Sandbox](https://github.com/ctxis/CAPE) –∏ VirusTotal
- –∞–Ω–∞–ª–∏–∑ PDF, DOC, ZIP –∏ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
- —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—é –æ—Ç—á–µ—Ç–∞ —Å –ø–æ–º–æ—â—å—é Yandex GPT

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/yourname/email-analyzer
cd email-analyzer
cp .env.example .env
# –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∫–ª—é—á–∏ –≤ .env
sudo docker-compose up --build
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
email-analyzer/
‚îú‚îÄ‚îÄ analyzers/            # –ú–æ–¥—É–ª–∏ –∞–Ω–∞–ª–∏–∑–∞ (mail, urls, attachments, report, yandex_gpt)
‚îú‚îÄ‚îÄ samples/              # –í—Ö–æ–¥—è—â–∏–µ .eml –ø–∏—Å—å–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ shared/               # –û–±—â–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Thug –∏ –ª–æ–≥–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ logs/             # –õ–æ–≥–∏ –∞–Ω–∞–ª–∏–∑–æ–≤ (—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ thug/                 # Dockerfile –¥–ª—è Thug
‚îú‚îÄ‚îÄ main.py               # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ Dockerfile            # Dockerfile –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ docker-compose.yml   # –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ requirements.txt      # pip-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## ‚úÖ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞
–ü—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ `.eml` —Ñ–∞–π–ª—ã –≤ `samples/`, –∏ –æ–Ω–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:
```bash
samples/
‚îî‚îÄ‚îÄ suspicious_mail.eml
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- `/shared/report_*.md` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç
- `/shared/report_*_gpt.txt` ‚Äî —Å–≤–æ–¥–∫–∞ –æ—Ç GPT
- `/shared/logs/analysis.log` ‚Äî –ª–æ–≥ –∞–Ω–∞–ª–∏–∑–∞

---

## üìà Mermaid-–≥—Ä–∞—Ñ –ø–∞–π–ø–ª–∞–π–Ω–∞

```mermaid
graph TD
    A[–ü–æ–ª—É—á–µ–Ω–æ –ø–∏—Å—å–º–æ .eml] --> B[–ü–∞—Ä—Å–∏–Ω–≥ mail-parser]
    B --> C{–°—Å—ã–ª–∫–∏}
    B --> D{–í–ª–æ–∂–µ–Ω–∏—è}
    C --> E[Thug –∞–Ω–∞–ª–∏–∑ —Å—Å—ã–ª–æ–∫]
    D --> F{–ê—Ä—Ö–∏–≤?}
    F -->|–î–∞| G[–†–∞—Å–ø–∞–∫–æ–≤–∫–∞]
    F -->|–ù–µ—Ç| H[–ê–Ω–∞–ª–∏–∑ oletools/pdf]
    G --> H
    H --> I[CAPE + VirusTotal]
    E --> J
    I --> J
    J[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown –æ—Ç—á–µ—Ç–∞] --> K[–ó–∞–ø—Ä–æ—Å –∫ Yandex GPT]
    K --> L[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π —Å–≤–æ–¥–∫–∏]
    L --> M[–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ /shared/logs/]
```

---

## üìå –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–£–∫–∞–∂–∏—Ç–µ –≤ `.env`:
```dotenv
VT_API_KEY=your_virustotal_api_key
YC_AUTH=your_yandex_auth_token
YC_FOLDER_ID=your_yandex_folder_id
```

---

## üê∏ –ë–æ–Ω—É—Å
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤–∞—Å –ø–æ–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ASCII-–∂–∞–±–∫–∞ üê∏ ‚Äî —Å–∏–º–≤–æ–ª —Å–ø–æ–∫–æ–π–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤ —ç—Ç–æ–º —Å—É–º–∞—Å—à–µ–¥—à–µ–º –º–∏—Ä–µ —Ñ–∏—à–∏–Ω–≥–∞.

---

## ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
–≠—Ç–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –ù–µ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ –∫ –±–æ–µ–≤—ã–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º.

---

## üì¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã
**–ê–≤—Ç–æ—Ä:** @your_tg | GitHub: [yourname](https://github.com/yourname)
